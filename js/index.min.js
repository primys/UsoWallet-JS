$(function(){Clear.clearAll();Validator.isExistWallet()?Page.changeToDashboard():Page.changeToFirst();var b=Values.Strings,f=$("#save_button"),g=$("#add_button"),h=$("#generate_button"),m=$("#next_button"),n=$(".to_first");g.on("click",Page.changeToAddAccount);h.on("click",Page.changeToGeneratePrivateKey);m.on("click",Page.changeToAddAccount);n.on("click",Page.changeToFirst);f.on("click",function(){var a=$("#add_pk_input").val(),c=$("#add_password_input").val(),d=$("#add_repeat_password_input").val(),
e="0x"===a.substr(0,Math.min(2,a.length))?a.substr(2,a.length):a;Validator.isNullOrEmpty(e)?toastr.error(b.PRIVATE_KEY_REQUIRED):Validator.isNullOrEmpty(c)?toastr.error(b.PASSWORD_REQUIRED):Validator.isNullOrEmpty(d)?toastr.error(b.CONFIRM_PASSWORD_REQUIRED):c!==d?toastr.error(b.PASSWORDS_DO_NOT_MATCH):Validator.isValidPrivateKey(e)?Validator.isExistWallet()?toastr.error(b.WALLET_ALREADY_EXIST):(f.startLoading(),setTimeout(function(){var a=ethereumjs.Buffer.Buffer(e,"hex");a=ethereumjs.Wallet.fromPrivateKey(a).toV3(c);
localStorage.setItem(Values.Ethereum.getWalletName(),JSON.stringify(a));toastr.info(b.WALLET_SAVED);f.stopLoading(!0);Page.changeToDashboard()},1E3)):toastr.error(b.INVALID_PRIVATE_KEY)});var k=$("#show_deposit_button"),l=$("#send_button");g=$(".send_dropdown_item");h=$("#logout");g.on("click",function(){var a=$("#send_password_input"),c=$("#send_address_input").val(),d=$("#send_amount_input").val(),e=a.val();if(Validator.isNullOrEmpty(c))toastr.error(b.ADDRESS_REQUIRED);else if(Validator.isNullOrEmpty(d))toastr.error(b.AMOUNT_REQUIRED);
else if(Validator.isNullOrEmpty(e))toastr.error(b.PASSWORD_REQUIRED);else if(ethereumjs.Util.isValidAddress(c))if(Validator.isValidAmount(d)){l.startLoading();a.val("");var f=function(a,c){a?toastr.error(a):(toastr.info(b.USO_SUCCESS_SENT),Clear.clearSend());l.stopLoading()},g=$(this).attr("id");setTimeout(function(){switch(g){case "uso_send":Wallet.usoSend(e,c,d,f);break;case "eth_send":Wallet.ethSend(e,c,d,f);break;default:l.stopLoading(!0),toastr.error(b.COMMON_ERROR),Clear.clearSend()}},2E3)}else toastr.error(b.INVALID_AMOUNT_VALUE);
else toastr.error(b.INVALID_ADDRESS)});k.on("click",function(){var a=$("#deposit_password_input"),c=a.val();Validator.isNullOrEmpty(c)?toastr.error(b.PASSWORD_REQUIRED):(k.startLoading(),a.val(""),setTimeout(function(){Wallet.getChecksumAddress(c,function(a,b){a?toastr.error(a):($("#deposit_input_div").setHide(),$("#deposit_info_div").setShow(),$("#qr_address").qrcode({width:160,height:160,text:b}),$("#text_address").text(b));k.stopLoading()})},2E3))});h.on("click",Page.changeToFirst);$(".loader").delay(1500).fadeOut()});
